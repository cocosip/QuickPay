theme: jekyll-theme-cayman
language: csharp
os: linux
# Ubuntu 14.04
sudo: required
dist: trusty
before_install:
  - git fetch --unshallow # Travis always does a shallow clone, but GitVersion needs the full history including branches and tags
  - git config remote.origin.fetch "+refs/heads/*:refs/remotes/origin/*"
  - git fetch origin
  - chmod 777 ./build.sh

script:
  - ./build.sh --target Publish --verbosity diagnostic

cache:
  directories:
    - .packages
    - tools/Addins
    - tools/gitreleasemanager
    - tools/GitVersion.CommandLine